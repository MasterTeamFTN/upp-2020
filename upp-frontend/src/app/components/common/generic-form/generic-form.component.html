<div *ngIf="formLoaded(); then content else loader"></div>

<ng-template #content>
    <mat-card id="genericFormContainer">
        <mat-card-title>
            {{formDto.formName}}
            <!-- V_02 -->
        </mat-card-title>

        <!-- <mat-card-content>
            <input matInput 
            *ngFor="let frmControl of getControls(); let i=index"

             [formControl]="getName(frmControl)">
        </mat-card-content> -->

        <mat-card-content id="card-content">
            <form>
                <mat-form-field id="form-field" apperance="fill"
                    *ngFor="let field of formDto.formFields.controls; let i=index">
                    <div [ngSwitch]="field.controls.type.value.name">

                        <div *ngSwitchCase="'MultiSelect'">
                            <mat-select placeholder="{{field.controls.name.value}}" multiple>
                                <mat-option *ngFor="let msValue of multiselectValues; let j=index" value="{{j}}">
                                    {{msValue}}</mat-option>
                            </mat-select>
                        </div>
                        <div *ngSwitchCase="'password'">

                            <input matInput placeholder="Password" [type]="hide ? 'password' : 'text'"
                                [formControl]="field.controls.actualValue" required>

                            <mat-icon matPrefix id="password-icon" (click)="hide = !hide">
                                {{hide ? 'visibility_off' :
                                'visibility'}}
                            </mat-icon>
                            <!-- <mat-hint *ngIf="!field.controls.actualValue.value">Enter your password</mat-hint> -->
                            <!-- <input matInput [formControl]="field.controls.actualValue" id={{field.controls.id.value}}
                                apperance="fill" placeholder="{{field.controls.name.value}}" type="password"> -->
                        </div>

                        <div *ngSwitchCase="'string'">
                            <input matInput [formControl]="field.controls.actualValue" id={{field.controls.id.value}}
                                apperance="fill" [placeholder]="field.controls.name.value" type="text">
                            <mat-error>
                                {{ getErrorMessage(field.controls.name.value) }}
                            </mat-error>
                        </div>

                        <div *ngSwitchCase="'boolean'">
                            <mat-checkbox [formControl]="field.controls.actualValue">
                                {{field.controls.name.value}}
                            </mat-checkbox>
                        </div>

                        <input class="dummyHiddenInput" matInput hidden>
                    </div>
                </mat-form-field>
                <mat-form-field>
                    <button mat-button id="submitForm" (click)="onSubmit()"
                        [disabled]="checkValidation()">Submit</button>
                    <input matInput hidden>
                </mat-form-field>
            </form>
        </mat-card-content>
    </mat-card>
</ng-template>

<ng-template #loader>
    <mat-spinner></mat-spinner>
</ng-template>